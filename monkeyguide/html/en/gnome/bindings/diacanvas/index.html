<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:monodoc="http://www.go-mono.org/xml/monodoc">
<head>
	<title>DiaCanvas#</title>

	<meta name = "DC.Description" content = "" />
	<meta name = "DC.Contributor" content = "Martin Willemoes Hansen" />

	<link rel="stylesheet" type="text/css" href="../../../style.css" />
</head>
<body>

<h2>Contents</h2>
<ol>
	<li><a href="#intro">Introduction</a></li>
	<li><a href="#install">Installation</a></li>
	<li><a href="#sample">Sample</a></li>
	<li><a href="#credits">Credits</a></li>
</ol>

<a id="intro"><h2>Introduction</h2></a>
DiaCanvas# is a C# wrapper around the c library of <a href="http://diacanvas.sourceforge.net">DiaCanvas 2</a>. 

<a id="install"><h2>Installation</h2></a>
There has yet to be a stable release of DiaCanvas#, the only way to obtain the code right now, is
to get it via CVS.

<p>The CVS module is named diacanvas-sharp.</p>
<br>Information on how to use the mono cvs repository are explained <a href="http://www.go-mono.com/anoncvs.html">here</a>.</br>

<a id="sample"><h2>Sample</h2></a>

<p>A screendump of a DiaCanvas2 C# sample program:</p>
<img src="screendump.png"></img>

<p>What do the C# code look like then, take a look at this?</p>

<pre class="code">
using System;

using Dia;
using Gtk;
using Glade;

public class Sample {

	[Glade.Widget] Window main;
	[Glade.Widget] ScrolledWindow scrolledwindow;

	CanvasView view;

	public Sample() 
	{
		XML gui = new XML ("glade/gui.glade", "main", null);
		gui.Autoconnect (this);

		Dia.Canvas canvas = new Dia.Canvas();
		view = new CanvasView (canvas, true);
		scrolledwindow.Add (view);
		SetupTools();

		main.ShowAll();
	}

	[Glade.Widget] Image image1, image2, image3, image4;
	void SetupTools()
	{
		image1.Pixbuf = new Gdk.Pixbuf (null, "pixmaps/selection.png");
		image2.Pixbuf = new Gdk.Pixbuf (null, "pixmaps/line.png");
		image3.Pixbuf = new Gdk.Pixbuf (null, "pixmaps/box.png");
	}

	void SelectionTool (object sender, EventArgs args)
	{
		view.Tool = new StackTool();
	}

	void LineTool (object sender, EventArgs args)
	{
		view.Tool = new PlacementTool (Dia.CanvasLine.GType);
		view.Tool.ButtonReleaseEvent += UnsetTool;
	}

	void BoxTool (object sender, EventArgs args)
	{
		view.Tool = new PlacementTool (Dia.CanvasBox.GType);
		view.Tool.ButtonReleaseEvent += UnsetTool;
	}

	void TextTool (object sender, EventArgs args)
	{
		view.Tool = new PlacementTool (Dia.CanvasText.GType);
		view.Tool.ButtonReleaseEvent += UnsetTool;
	}

	void UnsetTool (object sender, DiaSharp.ButtonReleaseEventArgs args)
	{
		args.View.Tool = new StackTool();
	}

	void Quit (object sender, EventArgs args)
	{
		Application.Quit();
	}

	static void Main()
	{
		Application.Init();
		new Sample();
		Application.Run();
	}
}
</pre>

This example depends on some other resources, such as pixmaps and the glade GUI files. To run it
get the latest version of DiaCanvas# it includes the example and all the resources needed.


</body>
</html>
