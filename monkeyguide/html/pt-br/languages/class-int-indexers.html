<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:monodoc="http://www.go-mono.org/xml/monodoc">
<head>
	<title>Classes - Properties and Indexers - Int Indexers</title>

	<meta name ="DC.Description" content ="" />
	<meta name ="DC.Contributor" content ="Johannes Roith" />

	<link rel="stylesheet" type="text/css" href="../style.css" />

	<meta name = "CVS.English.Version" content = "1.3" />
</head>
<body>

<p>
Sometimes it will be neccesary to access to a collection within a class.
For this purpose there is a special kind of property, called <b>Indexer</b>,
which will let us to access those members as if the current instance class were
an array. 
</p>
<p>
The signature of an indexer must be:
<pre class="code">
 public type this [index-type] {

	get {}

	set {}

 }
</pre>
The type is refering to the type of the collection. For example, an int array, would have
an indexer of type int. The keyword <b>this</b> is refering to the actual object ( note that
when you use the indexer, you are using the brackets with the name of the current instance ). And
index-type is the type of the index ( most of the times an int, but it is also possible to use
a string, for example ). In this section we will see those indexers that receive an <b>int</b>
as index.
</p>
<p>
Let's write a small sample:
<pre class="code">
//
// A first approach to the Indexers
//
using System;

 public class IndexerTest {

	// Private int[]
	private int[] array;

	// Constructor
	public IndexerTest ( int elements )
	{

		this.array = new int[elements];

	}

	// Indexer
	<b>public int this [ int index ] {

		get {
			return this.array[index];
		}	

		set {
			this.array[index] = value;
		}

	}</b>

 }

 public class Test {

	public static void Main () {
	
		// We will use 10 elements
		IndexerTest test = new IndexerTest(10);

		// Assing some values
		test[0] = 5;
		test[6] = 45;
		test[9] = 67;
	
		// Let's show the values
		for ( int i = 0; i 10; i++ )
		{
			Console.WriteLine(" test[i] = {0}", test[i]);
		}
	
	 }

 }

</pre>
</p>
<p>
Save, compile and run it. You should get the next message:
<pre class="console">
 test[i] = 5
 test[i] = 0
 test[i] = 0
 test[i] = 0
 test[i] = 0
 test[i] = 0
 test[i] = 45
 test[i] = 0
 test[i] = 0
 test[i] = 67
</pre>
</p>
<p>
Now it's time to observe the Indexer more carefully. The indexer for this
class is defined as
<pre class="code">
 // Indexer
 public int this [ int index ] {

	get {
		return this.array[index];
	}	

	set {
		this.array[index] = value;
	}

 }
</pre>
Int the <b>get</b> section is defined what values will be retrieving. In this case, the value of
the array[index] value. Next, in the <b>set</b> section is defined how the indexer will receive
the assigments: the array[index] element will have the value passed. This look very similar to a
common property. However, there is a pair of special aspects: the first, is that there's not any
Length property defined. Because of this, in the <b>for</b> statement the condition depends on
a constant, the number 10. This problem can be solved adding the next property to the IndexerTest class:
<pre class="code">
 public int Length {

	// Retrieve the Length property of the current member collection
	// In this case, vector[]
	get {
		return this.vector.Length;
	}

 }
</pre>
And now it is possible to change the <b>for</b> statement:
<pre class="code">
 for ( int i = 0; i test.Length; i++) {
	...
 }
</pre>
And the second aspect is that some times it is possible to pass
a wrong index to the indexer. For example, if you pass a -1 value to the
indexer ( test[-1] ) you will have problem, because a Exception will be thrown.
It is possible to handle these kind of errors or let the environment throw this kind
excpetions and handle them as they were really arrays.
</p>
<div class="copyright">The Mono Handbook |
<a href="http://www.go-mono.org">Mono Homepage</a> |
<a href="../appendencies/credits.html">Credits</a> |
<a href="../appendencies/license.html">License</a></div>
</body>
</html>
