<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>The Mono Handbook - Other tools: NUnit</title>
<link rel="stylesheet" type="text/css" href="../style.css" />

	<meta name = "CVS.English.Version" content = "1.13" />
</head>
<body>
<div class="topframe" width="100%">
<a href="../index.html"><img src="../images/mg.png" border="0" />
</a></div>
<div class="navbar" width="100%"><a href="../index.html">The Mono
Handbook</a> &gt; <b>Other tools > NUnit</b></div>
<h1>NUnit</h1>

<h2>Contents</h2>
<ol>
<li><a href="#intro">Introduction</a></li>
<li><a href="#install">Install</a></li>
<li><a href="#cli">Commandline options</a></li>
<li><a href="#nunit-gtk">NUnit-gtk</a></li>
<li><a href="#code">Code sample</a></li>
<li><a href="#links">Links</a></li>
<li><a href="#credits">Credits</a></li>
</ol>

<a id="intro"><h2>Introduction</h2></a>
NUnit is a unit-testing framework for all .Net languages. Initially
ported from JUnit, the current version, 2.0 is the second major
release of this xUnit based unit testing tool for Microsoft .NET.
It is written entirely in C# and has been completely redesigned to
take advantage of many .NET language features, for example custom
attributes and other reflection related capabilities. NUnit brings
xUnit to all .NET languages. 

<a id="install"><h2>Install</h2></a>
NUnit is distributed with mono, therefore you are able to use 
the NUnit framework right away.

<a id="cli"><h2>Commandline options</h2></a>
<i>Content copied from nunit.org</i> 

<h3>Forms Interface</h3>
The forms interface has two command line options. If the program is
started without any command line parameters it automatically loads
the most recently loaded assembly. It does not automatically run it
just loads the assembly. The forms interface also keeps track of
the 5 most recently loaded assemblies. To access these see the
File-&gt;Recent Assemblies menu item. <br />
 <br />
 The other option is to specify the assembly on the command line.
The following will start the forms interface with the assembly:
<font face="Courier New"><code>nunit.tests.dll</code></font>
<font face="Courier New"><br />
<br />
 <code>nunit-gui.exe /assembly:nunit.tests.dll</code></font><br />
 <br />
 
<h3>Console Interface</h3>
The console interface has a few additional options compared to the
forms interface. The console program must always specify a command
line parameter. The console interface always creates an XML
representation of the test results. This file by default is called
<font face="Courier New"><code>TestResult.xml</code></font> and is
placed in the working directory. <br />
 <br />
 <b>Note:</b> By default the nunit-console program is not added to
your path. You must do this manually if this is the desired
behavior. <br />
 <br />
 
<h3>Specifying an Assembly</h3>
The console program must always have an assembly specified. To run
the tests contained in the
<font face="Courier New"><code>nunit.tests.dll</code></font> use
the following command: <br />
 <br />
 <code>nunit-console /assembly:nunit.tests.dll</code><br />
 <br />
 
<h3>Specifying an Assembly and a Fixture</h3>
When specifying a a fixture, you must give the full name of the
test fixture along with the containing assembly. For example, to
run the <code>NUnit.Tests.AssertionTests</code> in the
<code>nunit.tests.dll</code> assembly use the following
command:<br />
 <br />
 <code>nunit-console /fixture:NUnit.Tests.AssertionTests<br />
&#160;&#160; /assembly:nunit.tests.dll</code><br />
 <br />
 
<h3>Specifying the XML file name</h3>
As stated above, the console program always creates an XML
representation of the test results. To change the name to
"<code>console-test.xml"</code> use the following command line
option:<br />
 <br />
 <code>nunit-console /assembly:nunit.tests.dll
/xml:console-test.xml</code><br />
 <br />
 
<h3>Specifying the Transform file</h3>
The console interface uses XSLT to transform the test results from
the XML file to what is printed to the screen when the program
executes. The console interface has a default transformation that
is part of the executable. To specify your own transformation named
"<code>myTransform.xslt</code>" use the following command line
option:<br />
 <br />
 <code>nunit-console /assembly:nunit.tests.dll
/transform:myTransform.xslt<br /></code> <br />
 <b>Note:</b> For additional information see the XML schema for the
test results. This file is in the same directory as the executable
and is called
<code><a href="files/nunit-v20-rc2/Results.xsd">Results.xsd</a></code>.
The default transform
<code><a href="files/nunit-v20-rc2/Summary.xslt">Summary.xslt</a></code>
is located in the framework source directory.<br />
<br />

<a id="nunit-gtk"><h2>NUnit-gtk</h2></a>
If you like a GUI version of a NUnit test runner, then NUnit-gtk might 
be just what you are looking for.

<p>Running NUnit tests for assembly Microsoft.VisualBasic:</p>
<a href="nunit-gtk.png"><img src="nunit-gtk-thumb.png" border="0" /></a>

<h3>Install</h3>
No releases of NUnit-gtk has been made yet.
<br />To get the program, check it out from cvs, the module is called nunit-gtk.
<br />Information on how to use the mono cvs repository are explained <a href="http://www.go-mono.com/anoncvs.html">here</a>.

<h3>Run</h3>
To run the program execute <b>nunit-gtk.exe</b>

<h3>Circles</h3>

The representation of the different collered circles:
<ul>
<li />Green: The test passed flawlessly
<li />Red: The test failed
<li />Yellow: The test did not run
</ul>

There is a motto saying: <b>Keep the bar green to keep the code clean ...</b>

<a id="code"><h2>Code sample</h2></a>

<pre class="code">
using NUnit.Framework;

namespace NUnitTutorial {

	[TestFixture]
	public class MyUnitTest : Assertion {

		string foo;

		[SetUp]
		public void GetReady()
		{
			foo = "Foobar";
		}

		[Test]
		public void TestLength()
		{
			AssertEquals ("(1) Length", 6, foo.Length);
		}

		[TearDown]
		public void Clear()
		{
		}
	}
}
</pre>

The code above shows the basic structure of a unit test. 

<ol>
<li />First you will need to reference the framework:
<pre class="code">
using NUnit.Framework;
</pre>
<li />Then specify the test class: 
<pre class="code">
[TestFixture]
public class MyUnitTest : Assertion {...}
</pre>
It is not mandatory to inherit from Assertion, but if you do, the code becomes a little more clear and you will save some typing.
<br />Assertion.AssertionEquals (...) vs AssertionEquals (...)
<p />
<li />Initialize your variables
<pre class="code">
[SetUp]
public void GetReady() {...}
</pre>
<li />Write some tests
<pre class="code">
[Test]
public void TestLength() {...}
</pre>
<li />Tear it all down.
<pre class="code">
[TearDown]
public void Clear() {...}
</pre>
</ol>

<p />To learn more about the Attributes and Assertion methods go read the documentation at
<a href="http://www.nunit.org/documentation.html">www.nunit.org</a>

<a id="links"><h2>Links</h2></a>
<ul>
<li /><a href="http://www.nunit.org">www.nunit.org (Official NUnit website)</a>
<li /><a href="http://www.junit.org">www.junit.org (Contains lots of documents on howto write Unit tests)</a>
</ul>

<a id="credits"><h2>Credits</h2></a>
Author: <a href="mailto:johannes%20at%20jroith.de">Johannes Roith</a>
<br />Author: <a href="mailto:mwh%20at%20sysrq.dk">Martin Willemoes Hansen</a> 

<div class="copyright"><a href="http://www.go-mono.org">&#169;
Copyright 2002 by Johannes Roith</a></div>
</body>
</html>
