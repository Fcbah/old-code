<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:monodoc="http://www.go-mono.org/xml/monodoc">
<head>
	<title>Gtk# - HelloWorld, first try</title>

	<meta name ="DC.Description" content ="" />
	<meta name ="DC.Contributor" content ="Johannes Roith" />

	<link rel="stylesheet" type="text/css" href="../../../style.css" />

	<meta name = "CVS.English.Version" content = "1.10" />
</head>
<body>

HelloWorld in Gtk#: 
<table cellpadding="5" border="0">
<tr>
<td valign="top">
<pre class="code">
using Gtk;
using GtkSharp;
using System;

class Hello {

        static void Main()
        {
                Application.Init ();

                Window window = new Window ("helloworld");
                window.Show();
    
                Application.Run ();
    
        }
}
</pre></td>
<td valign="top"><img src="base.png"
border="0" /></td></tr></table>
compile: 
<pre class="console">
mcs helloworld.cs -r gtk-sharp.dll -r glib-sharp.dll
</pre>
It's a bit longer than console hello world and needs some
explanation.<br />
<br />
Before we jump in the Main method, every Gtk# Application will have
to import the namespaces: 
<pre class="code">
        using Gtk;
        using GtkSharp;
</pre>
If you don't do so, each Class from one of these namespaces needs
the namespace mentioned as prefix.<br />
<br />
In Main() at first you see: 
<pre class="code">
Application.Init()
</pre>
This initializes GTK and is needed in every Gtk# Application.<br />
The next line create a new window. Gtk# can set the title in the
constructor and saves one line compared to C.<br />
<pre class="code">
Window window = new Window ("helloworld");
</pre>
<pre class="code">
Application.Run()
</pre>
shows the application and most importantly keeps it open, waiting
for events, until Quit() is called. 
<h2>HelloWorld, second try</h2>
While the above program compiles and runs, it's doesn't quit,
properly. You've to exit with CRTL+C.<br />
<br />
 
<pre class="code">
        using Gtk;
        using GtkSharp;
        using System;

        class Hello {

                static void Main()
                {
                        Application.Init ();

                        Button btn = new Button ("Hello World");
                        btn.Clicked += new EventHandler (hello);

                        Window window = new Window ("helloworld");
                        window.DeleteEvent += new DeleteEventHandler (delete_event);
                        window.Add (btn);
                        window.ShowAll ();

                        Application.Run ();
                }


                static void delete_event (object obj, DeleteEventArgs args)
                {
                            Application.Quit ();
                }

                static void hello (object obj, EventArgs args)
                {
                        Console.WriteLine("Hello World");
                        Application.Quit ();
                }
        }

</pre>
This sample quits correctly.<br />
 GTK is an event driven toolkit, which means it will sleep in
Application.Run() until an event occurs and control is passed to
the appropriate function. Gtk# can make use of the type "event".
When you close HelloWorld, the DeleteEvent is thrown, by the
window. To enable your application to react on the DeleteEvent, you
must connect it to an event handler. 
<pre class="code">
window.DeleteEvent += new DeleteEventHandler (delete_event);
</pre>
An event handler is passed an object, the object that fired the
event, here window, and EventArgs. The EventArgs here have the
special type DeleteEventArgs). 
<pre class="code">
                static void delete_event (object obj, DeleteEventArgs args)
                {
                            Application.Quit ();
                }
</pre>
This sample also adds a button to the window and connects the
clicked event to "hello". 
<h2>Last but not least the complete example in MonoBasic...</h2>
<pre class="code">
imports System
imports Gtk
imports GtkSharp

 Public Module ToggleButtons

        Sub OnDeleteEvent ( ByVal obj as object, ByVal args as DeleteEventArgs )

                Application.Quit()

        End Sub

        Sub OnExitButtonEvent ( ByVal obj as object, ByVal args as EventArgs )

                Application.Quit()

        End Sub

        Public Sub Main ()

                Application.Init()

                Dim window as Window = new Window("Toggle Buttons")
                AddHandler window.DeleteEvent, AddressOf OnDeleteEvent
                window.BorderWidth = 0

                Dim box1 as VBox = new VBox (false, 10)
                window.Add(box1)
                box1.Show()

                Dim box2 as VBox = new VBox (false, 10)
                box2.BorderWidth = 10
                box1.PackStart(box2, true, true, 0)
                box2.Show()

                Dim toggleButton as ToggleButton = new ToggleButton ("Button 1")
                box2.PackStart(toggleButton, true, true, 0)
                toggleButton.Show()

                Dim toggleButton2 as ToggleButton = new ToggleButton ("Button 2")
                toggleButton2.Active = true
                box2.PackStart(toggleButton2, true, true, 0)
                toggleButton2.Show()

                Dim separator as HSeparator = new HSeparator ()
                box1.PackStart(separator, false, true, 0)
                separator.Show()

                Dim box3 as VBox = new VBox (false, 10)
                box3.BorderWidth = 10
                box1.PackStart(box3, false, true, 0)

                Dim button as Button = new Button("Close")
                AddHandler button.Clicked, AddressOf OnExitButtonEvent

                box3.PackStart(button, true, true, 0)
                button.CanDefault = true
                button.GrabDefault()
                button.Show()

                window.ShowAll() 

                Application.Run()

        End Sub

 End Module
</pre>

</body>
</html>
