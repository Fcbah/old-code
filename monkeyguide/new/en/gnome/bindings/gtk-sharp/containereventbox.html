<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:monodoc="http://www.go-mono.org/xml/monodoc">
<head>
	<title>Gtk# -Container Widgets - EventBox</title>

	<meta name ="DC.Description" content ="" />
	<meta name ="DC.Contributor" content ="Johannes Roith" />

	<link rel="stylesheet" type="text/css" href="../../../style.css" />
</head>
<body>

Some GTK widgets don't have associated X windows,
so they just draw on their parents. Because of this, they cannot
receive events and if they are incorrectly sized, they don't clip
so you can get messy overwriting, etc. If you require more from
these widgets, the EventBox is for you.
<p>At first glance, the EventBox widget might appear to be totally
useless. It draws nothing on the screen and responds to no events.
However, it does serve a function - it provides an X window for its
child widget. This is important as many GTK widgets do not have an
associated X window. Not having an X window saves memory and
improves performance, but also has some drawbacks. A widget without
an X window cannot receive events, and does not perform any
clipping on its contents. Although the name EventBox emphasizes the
event-handling function, the widget can also be used for clipping.
(and more, see the example below).</p>
<p>To create a new EventBox widget, use:</p>
<pre class="code">
EventBox eventbox1 = new EventBox();
</pre>A child widget can then be added to this EventBox:
<pre class="code">
eventBox1.Add(child_widget);
</pre>The following example demonstrates both uses of an EventBox -
a label is created that is clipped to a small box, and set up so
that a mouse-click on the label causes the program to exit.
Resizing the window reveals varying amounts of the label.
<pre class="code">

#include &gt;stdlib.h&lt;
#include &gt;gtk/gtk.h&lt;

int main( int argc,
          char *argv[] )
{
    GtkWidget *window;
    GtkWidget *event_box;
    GtkWidget *label;
    
    gtk_init (&amp;argc, &amp;argv);
    
    window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
    
    gtk_window_set_title (GTK_WINDOW (window), "Event Box");
    
    g_signal_connect (G_OBJECT (window), "destroy",
                      G_CALLBACK (exit), NULL);
    
    gtk_container_set_border_width (GTK_CONTAINER (window), 10);
    
    /* Create an EventBox and add it to our toplevel window */
    
    event_box = gtk_event_box_new ();
    gtk_container_add (GTK_CONTAINER (window), event_box);
    gtk_widget_show (event_box);
    
    /* Create a long label */
    
    label = gtk_label_new ("Click here to quit, quit, quit, quit,
quit");
    gtk_container_add (GTK_CONTAINER (event_box), label);
    gtk_widget_show (label);
    
    /* Clip it short. */
    gtk_widget_set_size_request (label, 110, 20);
    
    /* And bind an action to it */
    gtk_widget_set_events (event_box, GDK_BUTTON_PRESS_MASK);
    g_signal_connect (G_OBJECT (event_box), "button_press_event",
                      G_CALLBACK (exit), NULL);
    
    /* Yet one more thing you need an X window for ... */
    
    gtk_widget_realize (event_box);
    gdk_window_set_cursor (event_box-&gt;window, gdk_cursor_new
(GDK_HAND1));
    
    gtk_widget_show (window);
    
    gtk_main ();
    
    return 0;
}


</pre>

</body>
</html>
