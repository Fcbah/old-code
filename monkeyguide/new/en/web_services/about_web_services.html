<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:monodoc="http://www.go-mono.org/xml/monodoc">
<head>
	<title>Basic Concepts</title>

	<meta name = "DC.Description" content = "" />
	<meta name = "DC.Contributor" content = "Johannes Roith" />
	<meta name = "DC.Contributor" content = "Shane Landrum" />

	<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>

<h3>Web services: what they are</h3>

<p>Web services are basically a modern form of a remote procedure call (RPC)
system. They allow applications on one machine to execute operations on
another machine. Systems integrators use web services to make widely 
differing systems talk to one another.</p>


<p>To understand, let's take a look at a hypothetical example.
Imagine a class like this:</p>

<pre class="code">
NewsTicker ournews = new NewsTicker();
string headline = ournews.GetHeadline(1);

Console.WriteLine(headline);
</pre>

This could be a local function operating on your own machine,
or it could be a web service. If it were a web service, the actual
code that returns the headline might be running on some other machine
somewhere on the internet. You don't have to know what it's doing;
there might be a database on the other end of the service, a screen-scraper,
or a carrier-pigeon-message translation service. The code on the
remote webserver might be PHP, Java, Python, or COBOL. That's the point
of web services.

<h3>Technical Background: SOAP</h3>

<p>Under the hood, Mono uses a protocol called SOAP to make
web services work just like other methods. In the example above, 
when GetHeadline() is called, Mono generates an XML file that describes
an information request. It could look like this:

<pre class="code">
&lt;webservice url="http://somenewsservice.com/webservice"&gt;
        &lt;function name="GetHeadLine" &gt;
                &lt;int name="number" value="1" /&gt;
        &lt;/function&gt;
&lt;/webservice&gt;
</pre>

In the real world it looks very different and much more
complicated, but that's the basic logic. The remote webserver reads
the request, interprets it, and runs some business logic. It sends back
an XML response packet something like this:

<pre class="code">
&lt;webservice url="http://somenewsservice.com/webservice"&gt;
        &lt;function name="GetHeadLine" &gt;
                &lt;int name="return" value="This is some new from CNN" /&gt;
        &lt;/function&gt;
&lt;/webservice&gt;
</pre>
Mono knows how to take XML response packets and turn them into data
your application can use.
</p>

<h3>Internal communication</h3>

<p>
In order to use a web service, Mono requires a descriptor file
written in WSDL (Web Services Description Language). WSDL is an XML
description of the API for a given web service. Mono's tool
<tt>wsdl</tt> knows how to translate a WSDL file into a C# library
that can run that web service. The local library file is a wrapper
around the web service, but it gets installed into the GAC just like
any other library.
</p>


<h3>Consuming a web service in 3 steps</h3>

<ol>
<li/>Get the WSDL file for the web service, which will be available
for download.
<li/>Run <tt>wsdl filename.wsdl</tt>. This will generate a new C# file
<tt>filename.cs</tt> that contains the local functions.
<li/> Compile it to a library <tt>filename.dll</tt>.
<li/> Now you can use the web service. You'll have to reference the
assembly at compile time.
</ol>

</body>
</html>
