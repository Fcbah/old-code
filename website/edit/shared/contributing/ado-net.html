<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>ADO.NET</title>

	<meta name="Robots" content="INDEX, FOLLOW">
	<meta http-equiv="Content-Language" content="en">
	<meta http-equiv="Content-Type" content="text/html; CHARSET=UTF-8">
	<meta name="keywords" content="mono">
	<meta name="description" content="ADO.NET and Mono">
	<meta name="author" content="Jonathan Duncan">
	<meta name="date" content="14-Apr-2004">
	<meta name="modified-by" content="Jonathan Duncan">
	<meta name="modified" content="09-Dec-2004">

	<style type="text/css" media="all"><!--  @import url(/inc/mono-main.css); --></style>
	<style type="text/css" media="all"><!--  @import url(/inc/mono-orange.css); --></style>  <!-- blue=About, green=Using, orange=Contributing -->

<!-- **************************************** -->
<!--  BEGIN SCRIPT HEADER HERE -->
        <script type="text/javascript">
        <!--
        //var pageName;  DISABLED
        //var pageName = "FAQ";  ENABLED
        var pageName = "Roadmap and Plans";
        -->
        </script>
<!--#include virtual="/inc/script_header.inc"-->
<!--  END SCRIPT HEADER HERE -->
<!-- **************************************** -->

</head>
<body>

<div id="thePage"> <!-- Start The Page -->
	    <!-- **************************************** -->
	    <!--  BEGIN RIGHT CONTENT HERE -->
	    <!--#include virtual="/inc/header_orange.html"-->  <!-- blue=About, green=Using, orange=Contributing -->
	    <!--  END RIGHT CONTENT HERE -->
	    <!-- **************************************** -->
	<div id="pageBodyTier2"> <!-- Start Body -->
		<div id="leftNav"> <!-- Start Left Nav -->
				<div id="leftNavTop"></div>
					<!-- **************************************** -->
					<!--  BEGIN LEFT NAV SUB HERE -->
					<!--#include virtual="/inc/leftnav_orange.inc"-->
					<!--  END LEFT NAV HERE -->
					<!-- **************************************** -->

					<!-- **************************************** -->
					<!--  BEGIN SEARCH BOX HERE -->
					<!--#include virtual="/inc/searchbox.inc"-->
					<!--  END SEARCH BOX HERE -->
					<!-- **************************************** -->
		</div> <!-- End Left Nav -->
		<div id="bodyContentTier2"> <!-- Start Body Content -->
			<h1>ADO.NET</h1>
			<ul class="head">
				<li><a href="#dataaccess">Data Access in Mono</a></li>
				<li><a href="#tools">Tools</a></li>
				<li><a href="#classes">Extra Classes in Mono ADO.NET</a></li>
				<li><a href="#aspnet">Database Access from ASP.NET</a></li>
				<li><a href="#testing">Testing</a></li>
			</ul>
			
<!-- **************************************** -->
<!--  Data Access in Mono -->				
<!-- **************************************** -->
			<a name="dataaccess"></a>
			<h2>Data Access in Mono</h2>
			
			<p>Today, our goal is to be compatible with  .NET 1.1 and .NET 1.0.  We also would like
			to extend data access beyond what is included with .NET 1.0 and .NET 1.1,
			such as, include access to more databases, such as, PostgreSQL and MySQL,
			but also provide classes that help in creating data source-agnostic code, such as, 
			Mono.Data.ProviderFactory.</p>
			
			<p>In the future, we would like to be compatible with .NET 1.2. This includes features like <a href="http://longhorn.msdn.microsoft.com/lhsdk/ndp/daconworkingwithobjectspacesarchitecture.aspx">ObjectSpaces</a></p>

			

<!-- **************************************** -->
<!--  Tools -->				
<!-- **************************************** -->
			<a name="tools"></a>
			<h2>Tools</h2>
			<p>Some tools that can be used for ADO.NET and other technologies (ASP.NET, XML, etc).</p>
			<ul>
				<li>sqlsharp.exe
					<ul>
						<li>SQL# is a command line query tool included with Mono to enter and execute SQL statements</li>
					</ul>
				</li>
				<li>xsd.exe
					<ul>
						<li>XML Schema Definition tool</li>
							<ul>
								<li><b>XDR to XSD</b> - used to generate an XML schema from an XDR (XML Data Reduced schema) file. 
									XDR was used by Microsoft prior to XSD becoming a W3C recommendation.  So, this needs
									to be supported for legacy reasons</li>
								<li><b>XML to XSD</b> - used to generate an XML schema from an XML file</li> 
								<li><b>XSD to DataSet</b> - used to generate DataSet classes from an XSD schema file.  The
									DataSet classes created can then be used with XML data</li>
								<li><b>XSD to Classes</b> - used to generate classes from an XSD schema file. The 
									classes created can be used with System.XML.Serialization.XMLSerializer 
									to read and write XML code that follows the schema</li>
								<li><b>Classes to XSD</b> - used to generate an XML schema 
									from type(s) in a assembly file. The 
									XML schema created by the tool defines the XML format used 
									by System.XML.Serialization.XMLSerializer</li>
							</ul>
						</li>
					</ul>
				</li>
			</ul>

			
<!-- **************************************** -->
<!--  Extra Classes in Mono ADO.NET -->				
<!-- **************************************** -->
			<a name="classes"></a>
			<h2>Extra Classes in Mono ADO.NET</h2>
			<p>An ADO.NET <a href="provider-factory.html">Provider Factory</a> 
		    was created by Brian Ritchie.  The 
			Provider Factory is a way to dynamically create
			connections, commands, parameters, and data adapters based on configuration 
			information.</p>
			
			
<!-- **************************************** -->
<!--  Database Access from ASP.NET -->				
<!-- **************************************** -->
			<a name="aspnet"></a>
			<h2>Database Access from ASP.NET</h2>
			<ul>
				<li>Take a look at xsp in cvs and look at the examples in test: dbpage1.aspx
				and dbpage2.aspx:
					<ul>
						<li>Notice that the namespace System.Data is imported via <b>import</b></li>
						<li>A NameValueCollection is gotten using ConfigurationSettings.AppSetings. These
						settings are gotten from the file server.exe.config which is a XML file.   The XML
						file has a section appSettings.  In the appSettings section, you have keys 
						for DBProviderAssembly, DBConnectionType, and DBConnectionString.
						<ul>
							<li><b>DBProviderAssembly</b> is the assembly of the ADO.NET provider.  
							      For example: 
							      "ByteFX.Data"</li>
							<li><b>DBConnectionType</b> is the System.Type of the class that 
							      implements System.Data.IDbConnection that is found
						          in the DBProviderAssembly.  
						          For example: 
						          "ByteFX.Data.MySqlConnection"</li> 
						    <li><b>DBConnectionString</b> is the ConnectionString to set to the
						          IDbConnection object to use in opening a connection to a data source.
						          For Example: 
						          "hostaddr=127.0.0.1;user=monotest;password=monotest;<br>dbname=monotest"</li>
						</ul></li>
						<li>The function GetConnectionData() gets the database provider assembly, connection type,
						and connection string parameters if they exist; otherwise, it uses default values.  This is
						done during the loading of the web page.</li>
						<li>With the connection parameters, the assembly is loaded, the connection type is verified that
						it implements IDbConnection and an instance of the class can be created, creates a instance
						of the class, sets the connection string, and opens the connection.</li>
					</ul>
				</li>
			</ul>
			

<!-- **************************************** -->
<!--  Testing -->				
<!-- **************************************** -->
			<a name="testing"></a>
			<h2>Testing</h2>
			<ul>
				<li>Testing connection-oriented classes are done 
				via the provider specific tests
				found in the mcs source at mcs/class</br>
					<table border=1>	
						<tr>
							<td><b>Name</b></td>
							<td><b>Assembly /</br> Namespace</b></td>
							<td><b>Test</b></td>	
						</tr>		
						
						<tr>
							<td>Microsoft</br> SQL</br> Server</br></td>
							<td>System.Data /</br> System.Data.SqlClient</td>
							<td>SqlTest.cs at</br> System.Data/Test</td>
						</tr>
			
						<tr>
							<td>PostgreSQL</br> (Npgsql)</td>
							<td>Npgsql /</br> Npgsql</td>
							<td>*.cs at</br> Npgsql/Test</td>
						</tr>
			
						<tr>
							<td>Oracle</br> (Mono)</td>
							<td>System.Data.OracleClient /</br> System.Data.OracleClient</td>
							<td>TestOracleClient.cs at</br> System.Data.OracleClient/Test</td>
						</tr>
			
						<tr>
							<td>ODBC</br> (Mono)</td>
							<td>System.Data.Odbc /</br> System.Data</td>
							<td>OdbcTest.cs (to connect to MS SQL Server)at</br> System.Data/Test</td>
						</tr>
					</table>
				<br>
				<li><a href="testing.html">Testing non-connection classes</a> are 
				done via mono's modified version of NUnit.
					<ul>
						<li>To run all the NUnit tests for Mono, you need the mcs source.  cd to the root
						of the mcs source.  To run it:
							<ul>
								<li>make test</li>
							</ul>
						</li>
						<li>If you just want to run the NUnit tests for System.Data, you would cd into
						the mcs source at class/System.Data/Test and run it:
							<ul>
								<li>make test</li>
							</ul>
						</li>
					</ul>
				</li>
			</ul>

		</div> <!-- End Body Content -->
		<div class="clear"></div>
	</div> <!-- End Body -->

	<!-- **************************************** -->
	<!--  BEGIN FOOTER HERE -->
	<!--#include virtual="/inc/footer.inc"-->
	<!--  END FOOTER HERE -->
	<!-- **************************************** -->
</div> <!-- End The Page -->

</body>
</html>