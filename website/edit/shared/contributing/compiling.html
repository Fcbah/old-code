<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>Compiling Mono</title>

	<meta name="Robots" content="INDEX, FOLLOW">
	<meta http-equiv="Content-Language" content="en">
	<meta http-equiv="Content-Type" content="text/html; CHARSET=UTF-8">
	<meta name="keywords" content="mono">
	<meta name="description" content="How to compile and install Mono from its source code">
	<meta name="author" content="Jonathan Duncan">
	<meta name="date" content="14-Apr-2004">
	<meta name="modified-by" content="Jonathan Duncan">
	<meta name="modified" content="09-Dec-2004">

	<style type="text/css" media="all"><!--  @import url(/inc/mono-main.css); --></style>
	<style type="text/css" media="all"><!--  @import url(/inc/mono-orange.css); --></style>  <!-- blue=About, green=Using, orange=Contributing -->

<!-- **************************************** -->
<!--  BEGIN SCRIPT HEADER HERE -->
        <script type="text/javascript">
        <!--
        //var pageName;  DISABLED
        //var pageName = "FAQ";  ENABLED
        var pageName = "Getting Started";
        -->
        </script>
<!--#include virtual="/inc/script_header.inc"-->
<!--  END SCRIPT HEADER HERE -->
<!-- **************************************** -->

<style type="text/css">
<!--
.shell {
	border-style: solid;
	background: #000000;
	color: #bbbbbb; /* #777777; */
	border-width: 1px;
	padding: 2pt;
	margin:15px;
}
// -->
</style>

</head>
<body>

<div id="thePage"> <!-- Start The Page -->
	    <!-- **************************************** -->
	    <!--  BEGIN RIGHT CONTENT HERE -->
	    <!--#include virtual="/inc/header_orange.html"-->  <!-- blue=About, green=Using, orange=Contributing -->
	    <!--  END RIGHT CONTENT HERE -->
	    <!-- **************************************** -->
	<div id="pageBodyTier2"> <!-- Start Body -->
		<div id="leftNav"> <!-- Start Left Nav -->
				<div id="leftNavTop"></div>
					<!-- **************************************** -->
					<!--  BEGIN LEFT NAV SUB HERE -->
					<!--#include virtual="/inc/leftnav_orange.inc"-->
					<!--  END LEFT NAV HERE -->
					<!-- **************************************** -->

					<!-- **************************************** -->
					<!--  BEGIN SEARCH BOX HERE -->
					<!--#include virtual="/inc/searchbox.inc"-->
					<!--  END SEARCH BOX HERE -->
					<!-- **************************************** -->
		</div> <!-- End Left Nav -->
		<div id="bodyContentTier2"> <!-- Start Body Content -->
			<h1>Compiling Mono</h1>
			<ul class="head">
				<li><a href="#overview">Overview</a></li>
				<li><a href="#compile">Compiling the code</a></li>
				<li><a href="#scripts">Compiling with scripts</a></li>
				<li><a href="#manually">Compiling manually</a></li>
				<li><a href="#svn">Building from SVN</a></li>
				<li><a href="#notes">Software resources and notes</a></li>
			</ul>

<!-- **************************************** -->
<!--  Overview -->
<!-- **************************************** -->
			<a name="overview"></a>
			<h2>Overview</h2>
			<p>This document describes how to compile and install Mono from
			its source code.  If you are only interested in running Mono,
			you might want to install Mono from packages, which have been
			tested.

			<p>The core of Mono is split in two components:</p>

			<ul>
				<li>C components (available in the mono package)
				<li>C# components (available in the mcs package).
			</ul>

			<p>Mono is also available in various forms:</p>

			<dl>
				<dt>Officially <a href="/downloads/index.html">released</a> packages.</dt>
				<dd>
				  This is the format of choice for people to use, since these
				  have been tested and are known to build and work.
				</dd>
				<dt><a href="http://go-mono.com/daily">Daily</a> packages.</dt>
				<dd>
				  This is a service offered for people who want to try out the
				  daily changes. Baked daily.</dd>
				<dt>SVN source code.</dt>
				<dd>
				  These are available to Mono <a href="svnwrite.html">developers</a> and
				  also for enthusiasts through <a href="anonsvn.html">anonymous SVN</a>.
				</dd>
				<dt>SVN snapshots.</dt>
				<dd>
				  Available for curious developers which do not necessarily want to
				  install the SVN source.  Baked daily.
				</dd>
			</dl>

<!-- **************************************** -->
<!--  Compiling the code -->
<!-- **************************************** -->
			<a name="compile"></a>
			<h2>Compiling the code</h2>
			<p>There are a number of ways of compiling Mono</p>
			<ul>
				<li>From the <a href="#scripts">scripts</A></li>
				<li><a href="#manually">Manually</a> for the first time. </li>
				<li>Manually, <a href="#svn">while upgrading</a> to SVN (which is an easy way to get the latest SVN information)</li>
			</ul>

<!-- **************************************** -->
<!--  Compiling with scripts -->
<!-- **************************************** -->
			<a name="scripts"></a>
			<h2>Compiling with scripts</h2>
			<p>These scripts should be used for installing from packages, specially
			on Windows, where dependencies have not always been installed.</p>

			<p>There are scripts to help build mono for both UNIX and Windows.  Get
			<a href="mono-build.sh">mono-build.sh</a> for UNIX, or <a
			href="mono-build-w32.sh">mono-build-w32.sh</a> for Windows.
			These scripts automate the installation of GLIB and pkgconfig
			(building from source on UNIX, and using binary packages
			provided by the GIMP for Windows project on Windows.)  To use
			the script, follow these simple steps:</p>

			<ul>
				<li>Save the script for your platform somewhere (e.g. /usr/local/bin)</li>
				<li>Make the script executable (i.e chmod 755 /usr/local/bin/mono-build.sh)</li>
				<li>Create a directory to hold the mono source, and the compiled binaries (e.g. mkdir ~/mono)</li>
				<li>Change to the new directory (i.e. cd ~/mono)</li>
				<li>run the script (i.e. /usr/local/bin/mono-build.sh)</li>
			</ul>

			<p>The script requires wget on either platform, and building the
			software requires make, gcc, automake, autoconf, and libtool.
			You should install these packages from your distribution or
			with the cygwin installer. You should also take care of setting
			the right environment variables as the PKG_CONFIG_FLAGS, etc.</p>

			<p>The script will download required packages from
			www.go-mono.com and do a svn checkout of mono in the current
			directory.  <b>IMPORTANT!:</b> The svn server chosen defaults to
			anonymous svn. Change the TRUNK variable at the beginning of the script
			to point to the server that you want to use.
			</p>

<!-- **************************************** -->
<!--  Compiling manually -->
<!-- **************************************** -->
			<a name="manually"></a>
			<h2>Compiling manually</h2>
			<p>You will need to obtain the Mono dependencies first: <a
			href="http://www.gtk.org">glib 2.x</a> and
			<a href="http://www.freedesktop.org/software/pkgconfig">pkg-config</a>.</p>

			<p><b>Building From Packages</b></p>

			<p>This applies to both the officially released packages, as well as the
			daily tarball packages.</p>


				<p>Unpack the Mono runtime distribution:</p>
	<pre class="shell">
	tar xzvf mono-X.XX.tar.gz
	cd mono-X.XX</pre>


				<p>Then configure, compile and install:</p>

	<pre class="shell">
	./configure --prefix=/usr/local
	make
	make install</pre>

				<p>This will give you a runtime, C# compiler and runtime
				libraries.

				If you want to recompile the runtime and the compiler,
				follow these steps, first unpack the MCS package:</p>

	<pre class="shell">
	tar xzvf mcs-X.XX.tar.gz</pre>

				<p>Then use the following command to compile and install:</p>

	<pre class="shell">
	./configure --profile=atomic
	make</pre>

				<p>You can change /usr/local to something else if you want.</p>



<!-- **************************************** -->
<!--  Building from SVN -->
<!-- **************************************** -->
			<a name="svn"></a>
<h2>Building Mono 1.0.xx from SVN</h2>

			<p>To upgrade your Mono installation from SVN, it is very
			important that you update your Mono and MCS modules from SVN
			at the same time.  Failure to do so might result in a
			problematic installation as the runtime and the class
			libraries will be out of sync.</p>

			<p>Run the following commands to update your SVN tree (more
			details in <a href="svnwrite.html">Cvs and Mono</a> and the <A
			href="anonsvn.html">AnonSVN and Mono</a> pages). </p>

	<pre>
	(cd mono; svn update)
	(cd mcs; svn update)
	</pre>

			<p>Then you can run:</p>

	<pre>
	(cd mono; make bootstrap)
	</pre>

			<p>Now you can install the result:</p>

	<pre>
	(cd mono; make install)
	</pre>

			<p>Notice that following the above procedure does not require you
			to manually install the software in the `mcs' directory, as
			the relevant files will be copied by the `mono' makefiles.</p>

<!-- **************************************** -->
<!--  Building Mono 1.1.x from SVN            -->
<!-- **************************************** -->
<h2>Building Mono 1.1.xx from SVN</h2>

	<p>To upgrade your Mono installation from SVN, it is very
	important that you update your Mono and MCS modules from SVN
	at the same time.  Failure to do so might result in a
	problematic installation as the runtime and the class
	libraries will be out of sync.</p>

	<p>Run the following commands to update your SVN tree (more
	details in <a href="svnwrite.html">Cvs and Mono</a> and the <A
	href="anonsvn.html">AnonSVN and Mono</a> pages). </p>

	<pre>
	(cd mono; svn update)
	(cd mcs; svn update)
	</pre>

	<p>To build Mono from the repository you need to run the
	following command to create the configuration files:

	<pre>
	cd mono
	./autogen --prefix=/your-prefix
	</pre>
	
	<p>If you lack a working Mono installation, use the following
	command to download a minimal set of files needed to bootstrap
	Mono:

	<pre>
	make get-monolite-latest
	</pre>

	<p>To install the software, use:

	<pre>
	make install
	</pre>

	<p>The new build system is a lot simpler and more flexible,
	for more details read the mono/README file.
	
<!-- **************************************** -->
<!--  Software resources and notes -->
<!-- **************************************** -->
			<a name="notes"></a>
			<h2>Software resources and notes</h2>
			<p>The required and additional software can be downloaded here:</p>

			<ul>
				<li>Microsoft's .NET Framework SDK from
						  <a href="http://msdn.microsoft.com/downloads">
						  msdn.microsoft.com/downloads</a>.

				<li>Cygwin and the GNU Make tools from
						  <a href="http://www.cygwin.com">www.cygwin.com</a>.
						  Some people observed problems with autoconf 2.52. Installing
						  autoconf 2.13 helped in those cases.

				<li>Precompiled GLIB 2.0 and pkg-config packages (and
						  their dependencies) by the <a href="http://www.gimp.org/~tml/gimp/win32//index.html">GIMP for Windows</a> project from
				<ul>
						  <li><a href="http://www.go-mono.com/archive/pkgconfig-0.11-20020310.zip">http://www.go-mono.com/archive/pkgconfig-0.11-20020310.zip</a><br>
						  <li><a href="http://www.go-mono.com/archive/glib-2.0.4-20020703.zip">http://www.go-mono.com/archive/glib-2.0.4-20020703.zip</a> <br>
						  <li><a href="http://www.go-mono.com/archive/glib-dev-2.0.4-20020703.zip">http://www.go-mono.com/archive/glib-dev-2.0.4-20020703.zip</a> <br>
						  <li><a href="http://www.go-mono.com/archive/libiconv-1.7.zip">http://www.go-mono.com/archive/libiconv-1.7.zip</a> <br>
						  <li><a href="http://www.go-mono.com/archive/libiconv-dev-1.7.zip">http://www.go-mono.com/archive/libiconv-dev-1.7-20020101.zip</a> <br>
						  <li><a href="http://www.go-mono.com/archive/libintl-0.10.40-20020101.zip">http://www.go-mono.com/archive/libintl-0.10.40-20020101.zip</a><br>
				</ul>

				<li>Download the Mono source code from the
						  <a href="/downloads/index.html">packaged versions</a> or
						  the <a href="http://www.go-mono.com/snapshots">
						  nightly snapshots</a> or the <a href="anonsvn.html">
						  Anonymous SVN</a>.  The nightly snapshots are done every
						  night at 10pm EST (Boston Time). The nightly snapshots are
						  not guaranteed to build, but most of the time they should.
			</ul>

			<b>Notes on compiling GLIB 2.0 and pkg-config from source:</b>

			<ul>
				<li>Some people observed problems with autoconf 2.52. Installing
						  autoconf 2.13 helped in those cases (don't forget to do a
						  `make maintainer-clean' after the update).
				<li>Download, compile and install <a href="http://www.freedesktop.org/software/pkgconfig">pkg-config</a> from source.
				              (I had to change line 674 of
				              <tt>pkg-config-0.8.0/glib-1.2.8/gstrfuncs.c</tt> from
						  <tt>extern char *strsignal (int sig);</tt> to
						  <tt>extern const char *strsignal (int sig);</tt>.
	<pre class="shell">
	tar xzvf pkg-config-0.8.0.tar.gz
	cd pkg-config-0.8.0
	./configure --prefix=/usr
	make
	make install
	</pre>
				<li>Download, compile and install <a href="ftp://ftp.gnu.org/pub/gnu/libiconv/libiconv-1.7.tar.gz">libiconv</a> from source.<br>
						  If you dont have MS Visual C/C++ 4.0 or 5.0 or 6.0 you can also try
						  the binary package available at <a
						  href="http://www.gimp.org/~tml/gimp/win32/libiconv-1.9.1.bin.woe32.zip">
						  http://www.gimp.org/~tml/gimp/win32/libiconv-1.9.1.bin.woe32.zip</a>
				<li>Download, compile and install the
						  <a href="ftp://ftp.gtk.org/pub/gtk/v2.0/glib-2.0.6.tar.gz">
						  glib 2.0</a> from source.
			</ul>



		</div> <!-- End Body Content -->
		<div class="clear"></div>
	</div> <!-- End Body -->

	<!-- **************************************** -->
	<!--  BEGIN FOOTER HERE -->
	<!--#include virtual="/inc/footer.inc"-->
	<!--  END FOOTER HERE -->
	<!-- **************************************** -->
</div> <!-- End The Page -->

</body>
</html>